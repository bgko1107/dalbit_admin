<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.dalbit.customer.dao.QuestionDao" >
    <select id="questionList" parameterType="com.dalbit.customer.vo.QuestionVo" resultType="com.dalbit.customer.vo.QuestionVo">
        select mem_no as memNo
        , mem_birth_year as memBirth
        , mem_id as memId
        , mem_join_date as memJoin
        , mem_state as memState
        , mem_phone as memPhone
        from
        rd_data.tb_member_basic
        ORDER BY ${tableColumnName} ${orderDir}
        limit #{pageStart}, #{pageCnt}
</select>

    <select id="questionList_cnt" parameterType="com.dalbit.customer.vo.QuestionVo" resultType="integer">
        select
          count(*)
        from (
            select mem_no
            , mem_birth_year
            , mem_id
            , mem_join_date
            , mem_state
            , mem_phone
             from
            rd_data.tb_member_basic
        )a
    </select>


    <select id="callServiceCenterQnaDetail" statementType="CALLABLE" parameterType="com.dalbit.common.vo.ProcedureVo" resultType="com.dalbit.customer.vo.procedure.P_QuestionDetailOutputVo">
        call rd_admin.sp_admin_service_center_qna_detail(#{data, mode=IN, jdbcType=VARCHAR}, #{ret, mode=OUT, jdbcType=INTEGER}, #{ext, mode=OUT, jdbcType=VARCHAR})
    </select>

    <select id="callServiceCenterQnaOperate" statementType="CALLABLE" parameterType="com.dalbit.common.vo.ProcedureVo" resultType="com.dalbit.common.vo.ProcedureVo">
        call rd_admin.sp_admin_service_center_qna_operate(#{data, mode=IN, jdbcType=VARCHAR}, #{ret, mode=OUT, jdbcType=INTEGER}, #{ext, mode=OUT, jdbcType=VARCHAR})
    </select>

</mapper>