<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.dalbit.menu.dao.Men_SpecialDao" >

    <sql id="reqSpecial">
        select
          idx
        , mem_no
        , title
        , reg_date
        , contents
        , state
        , op_name
        , last_upd_date
        , @RNUM := @RNUM + 1 as rowNum
        from rd_admin.tb_req_special_dj
            , (select @RNUM := 0) r

    </sql>

    <select id="getReqSpecialList" parameterType="com.dalbit.menu.vo.SpecialReqVo" resultType="com.dalbit.menu.vo.SpecialReqVo">
        /* Men_Special.xml - getReqSpecialList */
        <include refid="reqSpecial"/>
    </select>

    <select id="getReqSpecialListCnt" parameterType="com.dalbit.menu.vo.SpecialReqVo" resultType="integer">
        /* Men_Special.xml - getReqSpecialListCnt */
        select
          count(*)
        from (
            <include refid="reqSpecial"/>
        ) a
    </select>


    <sql id="special">
        select
        mem_no
        , reg_date
        , is_force
        , `order`
        , op_name
        , last_upd_date
        , @RNUM := @RNUM + 1 as rowNum
        from rd_admin.tb_special_dj
            , (select @RNUM := 0) r
    </sql>

    <select id="getSpecialList" parameterType="com.dalbit.menu.vo.SpecialVo" resultType="com.dalbit.menu.vo.SpecialVo">
        /* Men_Special.xml - getSpecialList */
        <include refid="special"/>
    </select>

    <select id="getSpecialListCnt" parameterType="com.dalbit.menu.vo.SpecialVo" resultType="integer">
        /* Men_Special.xml - getSpecialListCnt */
        select
          count(*)
          from (
              <include refid="special"/>
          ) a
    </select>


</mapper>